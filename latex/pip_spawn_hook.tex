Setting invocation hook information

\begin{DoxyParagraph}{Synopsis\-:}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
void pip\-\_\-spawn\-\_\-hook( pip\-\_\-spawn\-\_\-hook\-\_\-t $\ast$hook, pip\-\_\-spawnhook\-\_\-t before, pip\-\_\-spawnhook\-\_\-t after, void $\ast$hookarg );
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description\-:}

\end{DoxyParagraph}
The {\itshape before} and {\itshape after} functions are introduced to follow the programming model of the {\ttfamily fork} and {\ttfamily exec}. {\itshape before} function does the prologue found between the {\ttfamily fork} and {\ttfamily exec}. {\itshape after} function is to free the argument if it is {\ttfamily malloc()ed}, for example. \begin{DoxyPrecond}{Precondition}
It should be noted that the {\itshape before} and {\itshape after} functions are called in the {\itshape context} of Pi\-P root, although they are running as a part of Pi\-P task (i.\-e., having P\-I\-D of the spawning Pi\-P task). Conversely speaking, those functions cannot access the variables defined in the spawning Pi\-P task. 

The before and after hook functions should have the function prototype as shown below; 
\begin{DoxyCode}
\textcolor{keywordtype}{int} hook\_func( \textcolor{keywordtype}{void} *hookarg )
\end{DoxyCode}

\end{DoxyPrecond}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em hook} & Pointer to the {\ttfamily pip\-\_\-spawn\-\_\-hook\-\_\-t} structure in which the invocation hook information will be set \\
\hline
\mbox{\tt in}  & {\em before} & Just before the executing of the spawned Pi\-P task, this function is called so that file descriptors inherited from the Pi\-P root, for example, can deal with. This is only effective with the Pi\-P process mode. This function is called with the argument {\itshape hookarg} described below. \\
\hline
\mbox{\tt in}  & {\em after} & This function is called when the Pi\-P task terminates for the cleanup purpose. This function is called with the argument {\itshape hookarg} described below. \\
\hline
\mbox{\tt in}  & {\em hookarg} & The argument for the {\itshape before} and {\itshape after} function call.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Note that the file descriptors and signal handlers are shared between Pi\-P root and Pi\-P tasks in the pthread execution mode.
\end{DoxyNote}
\begin{DoxySeeAlso}{See Also}
pip\-\_\-task\-\_\-spawn(3) 
\end{DoxySeeAlso}
