#include <stdio.h>
#include <pip.h>

int main( int argc, char **argv ) {
	int pipid, ntasks;

	ntasks = 10;
	pip_init( &pipid, &ntasks, NULL, 0 );

	if( pipid == PIP_PIPID_ROOT ) {		// PIP Root process
		pipid = PIP_PIPID_ANY;
		pip_spawn( argv[0], argv, NULL, PIP_CPUCORE_ASIS, &pipid, 
						NULL, NULL, NULL );
		pip_wait( 0, NULL );

	} else {								// PIP child task
		printf( "<%d> Hello, I am fine !!\n", pipid );
	}
	pip_fin();
	return 0;
}
