\hypertarget{group__ULP-2-suspension}{\section{Suspending and Resuming B\-L\-T/\-U\-L\-P}
\label{group__ULP-2-suspension}\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__ULP-2-suspension_ga7dbf7e64e78cd00ef62c3bb04f289a68}{pip\-\_\-suspend\-\_\-and\-\_\-enqueue} (pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-enqueue\-\_\-callback\-\_\-t callback, void $\ast$cbarg)
\begin{DoxyCompactList}\small\item\em suspend the curren task and enqueue it with lock \end{DoxyCompactList}\item 
int \hyperlink{group__ULP-2-suspension_gab78d289ab89fa2981f2910849b1b2df7}{pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock} (pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-enqueue\-\_\-callback\-\_\-t callback, void $\ast$cbarg)
\begin{DoxyCompactList}\small\item\em suspend the curren task and enqueue it without locking the queue \end{DoxyCompactList}\item 
int \hyperlink{group__ULP-2-suspension_gaaff299f195e2397f17cf11016c8a394f}{pip\-\_\-dequeue\-\_\-and\-\_\-resume} (pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched)
\begin{DoxyCompactList}\small\item\em dequeue a task and make it runnable \end{DoxyCompactList}\item 
int \hyperlink{group__ULP-2-suspension_gab3c26770ac6de70ad11239dc301bd403}{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock} (pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched)
\begin{DoxyCompactList}\small\item\em dequeue a task and make it runnable \end{DoxyCompactList}\item 
int \hyperlink{group__ULP-2-suspension_gac26e54557d8e89fcdcb52a9df6c65998}{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N} (pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched, int $\ast$np)
\begin{DoxyCompactList}\small\item\em dequeue multiple tasks and resume the execution of them \end{DoxyCompactList}\item 
int \hyperlink{group__ULP-2-suspension_ga939e70924803be491c2f6f10b364e803}{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock} (pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched, int $\ast$np)
\begin{DoxyCompactList}\small\item\em dequeue tasks and resume the execution of them \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hypertarget{ulp-suspension}{}\subsubsection{Suspending and resuming B\-L\-T/\-U\-L\-P}\label{ulp-suspension}
\begin{DoxyParagraph}{Description}
Suspending and resuming B\-L\-T/\-U\-L\-P 
\end{DoxyParagraph}


\subsection{Function Documentation}
\hypertarget{group__ULP-2-suspension_ga7dbf7e64e78cd00ef62c3bb04f289a68}{\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}!pip\-\_\-suspend\-\_\-and\-\_\-enqueue@{pip\-\_\-suspend\-\_\-and\-\_\-enqueue}}
\index{pip\-\_\-suspend\-\_\-and\-\_\-enqueue@{pip\-\_\-suspend\-\_\-and\-\_\-enqueue}!Suspending and Resuming BLT/ULP@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
\subsubsection[{pip\-\_\-suspend\-\_\-and\-\_\-enqueue}]{\setlength{\rightskip}{0pt plus 5cm}int pip\-\_\-suspend\-\_\-and\-\_\-enqueue (
\begin{DoxyParamCaption}
\item[{pip\-\_\-task\-\_\-queue\-\_\-t $\ast$}]{queue, }
\item[{pip\-\_\-enqueue\-\_\-callback\-\_\-t}]{callback, }
\item[{void $\ast$}]{cbarg}
\end{DoxyParamCaption}
)}}\label{group__ULP-2-suspension_ga7dbf7e64e78cd00ef62c3bb04f289a68}
\begin{DoxyParagraph}{Name}
pip\-\_\-suspend\-\_\-and\-\_\-enqueue\index{pip_suspend_and_enqueue@{pip\-\_\-suspend\-\_\-and\-\_\-enqueue}}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Synopsis}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
 int pip\-\_\-suspend\-\_\-and\-\_\-enqueue( pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-enqueue\-\_\-callback\-\_\-t callback, void $\ast$cbarg );
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description}
The {\bfseries queue} is locked just before the calling task is enqueued and unlocked after the calling task is enqueued. After then the {\bfseries callback} function is called. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
As the result of this suspension, a context-\/switch takes place if there is at least one elgible-\/to-\/run task in the scheduling queue (this is hidden from users). If there is no other task to schedule then the kernel thread of the current task will be blocked.
\end{DoxyParagraph}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em queue} & A task queue \\
\hline
\mbox{\tt in}  & {\em callback} & A callback function which is called immediately after the task is enqueued \\
\hline
\mbox{\tt in}  & {\em cbarg} & An argument given to the callback function\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return 0 on success. Return an error code on error. 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\-P\-E\-R\-M} & Pi\-P library is not initialized yet \\
\hline
{\em E\-I\-N\-V\-A\-L} & {\ttfamily queue} is {\ttfamily N\-U\-L\-L} \\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See Also}
pip\-\_\-enqueue\-\_\-and\-\_\-suspend\-\_\-nolock 

\hyperlink{group__ULP-2-suspension_gaaff299f195e2397f17cf11016c8a394f}{pip\-\_\-dequeue\-\_\-and\-\_\-resume} 
\end{DoxySeeAlso}
\hypertarget{group__ULP-2-suspension_gab78d289ab89fa2981f2910849b1b2df7}{\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}!pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock@{pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock}}
\index{pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock@{pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock}!Suspending and Resuming BLT/ULP@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
\subsubsection[{pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock}]{\setlength{\rightskip}{0pt plus 5cm}int pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock (
\begin{DoxyParamCaption}
\item[{pip\-\_\-task\-\_\-queue\-\_\-t $\ast$}]{queue, }
\item[{pip\-\_\-enqueue\-\_\-callback\-\_\-t}]{callback, }
\item[{void $\ast$}]{cbarg}
\end{DoxyParamCaption}
)}}\label{group__ULP-2-suspension_gab78d289ab89fa2981f2910849b1b2df7}
\begin{DoxyParagraph}{Name}
pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock\index{pip_suspend_and_enqueue_nolock@{pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock}}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Synopsis}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
 int pip\-\_\-suspend\-\_\-and\-\_\-enqueue\-\_\-nolock( pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-enqueue\-\_\-callback\-\_\-t callback, void $\ast$cbarg );
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description}
Unlike {\ttfamily pip\-\_\-suspend\-\_\-and\-\_\-enqueue}, this function never locks the queue. It is the user's responsibility to lock the queue beofre calling this function and unlock the queue after calling this function. The {\bfseries callback} function can be used for unlocking. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
As the result of this suspension, a context-\/switch takes place if there is at least one elgible-\/to-\/run task in the scheduling queue (this is hidden from users). If there is no other task to schedule then the kernel thread of the current task will be blocked.
\end{DoxyParagraph}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em queue} & A task queue \\
\hline
\mbox{\tt in}  & {\em callback} & A callback function which is called when enqueued \\
\hline
\mbox{\tt in}  & {\em cbarg} & An argument given to the callback function\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return 0 on success. Return an error code on error. 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\-P\-E\-R\-M} & Pi\-P library is not initialized yet \\
\hline
{\em E\-I\-N\-V\-A\-L} & {\ttfamily queue} is {\ttfamily N\-U\-L\-L} \\
\hline
\end{DoxyRetVals}
\hypertarget{group__ULP-2-suspension_gaaff299f195e2397f17cf11016c8a394f}{\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}!pip\-\_\-dequeue\-\_\-and\-\_\-resume@{pip\-\_\-dequeue\-\_\-and\-\_\-resume}}
\index{pip\-\_\-dequeue\-\_\-and\-\_\-resume@{pip\-\_\-dequeue\-\_\-and\-\_\-resume}!Suspending and Resuming BLT/ULP@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
\subsubsection[{pip\-\_\-dequeue\-\_\-and\-\_\-resume}]{\setlength{\rightskip}{0pt plus 5cm}int pip\-\_\-dequeue\-\_\-and\-\_\-resume (
\begin{DoxyParamCaption}
\item[{pip\-\_\-task\-\_\-queue\-\_\-t $\ast$}]{queue, }
\item[{pip\-\_\-task\-\_\-t $\ast$}]{sched}
\end{DoxyParamCaption}
)}}\label{group__ULP-2-suspension_gaaff299f195e2397f17cf11016c8a394f}
\begin{DoxyParagraph}{Name}
pip\-\_\-dequeue\-\_\-and\-\_\-resume\index{pip_dequeue_and_resume@{pip\-\_\-dequeue\-\_\-and\-\_\-resume}}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description}
The {\bfseries queue} is locked and then unlocked when to dequeued a task.
\end{DoxyParagraph}
\begin{DoxyParagraph}{Synopsis}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
int \hyperlink{group__ULP-2-suspension_gaaff299f195e2397f17cf11016c8a394f}{pip\-\_\-dequeue\-\_\-and\-\_\-resume( pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched )};
\end{DoxyParagraph}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em queue} & A task queue \\
\hline
\mbox{\tt in}  & {\em sched} & A task to specify a scheduling domain\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If succeedss, 0 is returned. Otherwise an error code is returned. 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\-P\-E\-R\-M} & Pi\-P library is not initialized yet \\
\hline
{\em E\-I\-N\-V\-A\-L} & {\ttfamily queue} is {\ttfamily N\-U\-L\-L} \\
\hline
{\em E\-N\-O\-E\-N\-T} & {\ttfamily queue} is empty. \\
\hline
\end{DoxyRetVals}
\hypertarget{group__ULP-2-suspension_gab3c26770ac6de70ad11239dc301bd403}{\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}!pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock}}
\index{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock}!Suspending and Resuming BLT/ULP@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
\subsubsection[{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock}]{\setlength{\rightskip}{0pt plus 5cm}int pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock (
\begin{DoxyParamCaption}
\item[{pip\-\_\-task\-\_\-queue\-\_\-t $\ast$}]{queue, }
\item[{pip\-\_\-task\-\_\-t $\ast$}]{sched}
\end{DoxyParamCaption}
)}}\label{group__ULP-2-suspension_gab3c26770ac6de70ad11239dc301bd403}
\begin{DoxyParagraph}{Name}
pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock\index{pip_dequeue_and_resume_nolock@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-nolock}}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Synopsis}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
int \hyperlink{group__ULP-2-suspension_gaaff299f195e2397f17cf11016c8a394f}{pip\-\_\-dequeue\-\_\-and\-\_\-resume( pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched )};
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description}
Task in the queue is dequeued and scheduled by the specified {\ttfamily sched}. If {\ttfamily sched} is N\-U\-L\-L, then the task is enqueued into the scheduling queue of calling task. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
It is the user's responsibility to lock the queue beofre calling this function and unlock the queue after calling this function.
\end{DoxyParagraph}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em queue} & A task queue \\
\hline
\mbox{\tt in}  & {\em sched} & A task to specify a scheduling domain\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns no error 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\-P\-E\-R\-M} & Pi\-P library is not initialized yet \\
\hline
{\em E\-I\-N\-V\-A\-L} & {\ttfamily queue} is {\ttfamily N\-U\-L\-L} \\
\hline
{\em E\-N\-O\-E\-N\-T} & {\ttfamily queue} is empty. \\
\hline
\end{DoxyRetVals}
\hypertarget{group__ULP-2-suspension_gac26e54557d8e89fcdcb52a9df6c65998}{\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}!pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N}}
\index{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N}!Suspending and Resuming BLT/ULP@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
\subsubsection[{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N}]{\setlength{\rightskip}{0pt plus 5cm}int pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N (
\begin{DoxyParamCaption}
\item[{pip\-\_\-task\-\_\-queue\-\_\-t $\ast$}]{queue, }
\item[{pip\-\_\-task\-\_\-t $\ast$}]{sched, }
\item[{int $\ast$}]{np}
\end{DoxyParamCaption}
)}}\label{group__ULP-2-suspension_gac26e54557d8e89fcdcb52a9df6c65998}
\begin{DoxyParagraph}{Name}
pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\index{pip_dequeue_and_resume_N@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-N}}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Synopsis}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
 int pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N( pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched, int $\ast$np );
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description}
The specified number of tasks are dequeued and scheduled by the specified {\ttfamily sched}. If {\ttfamily sched} is N\-U\-L\-L, then the task is enqueued into the scheduling queue of calling task. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The {\bfseries queue} is locked and unlocked when dequeued.
\end{DoxyParagraph}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em queue} & A task queue \\
\hline
\mbox{\tt in}  & {\em sched} & A task to specify a scheduling domain \\
\hline
\mbox{\tt in,out}  & {\em np} & A pointer to an interger which spcifies the number of tasks dequeued and actual number of tasks dequeued is returned. When {\ttfamily P\-I\-P\-\_\-\-T\-A\-S\-K\-\_\-\-A\-L\-L} is specified, then all tasks in the queue will be resumed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns no error 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\-P\-E\-R\-M} & Pi\-P library is not initialized yet \\
\hline
{\em E\-I\-N\-V\-A\-L} & {\ttfamily queue} is {\ttfamily N\-U\-L\-L} \\
\hline
{\em E\-I\-N\-V\-A\-L} & the specified number of tasks is invalid \\
\hline
{\em E\-N\-O\-E\-N\-T} & {\ttfamily queue} is empty.\\
\hline
\end{DoxyRetVals}
It is the user's responsibility to lock the queue beofre calling this function and unlock the queue after calling this function. \hypertarget{group__ULP-2-suspension_ga939e70924803be491c2f6f10b364e803}{\index{Suspending and Resuming B\-L\-T/\-U\-L\-P@{Suspending and Resuming B\-L\-T/\-U\-L\-P}!pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock}}
\index{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock}!Suspending and Resuming BLT/ULP@{Suspending and Resuming B\-L\-T/\-U\-L\-P}}
\subsubsection[{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock}]{\setlength{\rightskip}{0pt plus 5cm}int pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock (
\begin{DoxyParamCaption}
\item[{pip\-\_\-task\-\_\-queue\-\_\-t $\ast$}]{queue, }
\item[{pip\-\_\-task\-\_\-t $\ast$}]{sched, }
\item[{int $\ast$}]{np}
\end{DoxyParamCaption}
)}}\label{group__ULP-2-suspension_ga939e70924803be491c2f6f10b364e803}
\begin{DoxyParagraph}{Name}
pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock\index{pip_dequeue_and_resume_N_nolock@{pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-N\-\_\-nolock}}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Synopsis}
\#include $<$\hyperlink{pip_8h_source}{pip.\-h}$>$ \par
 int pip\-\_\-dequeue\-\_\-and\-\_\-resume\-\_\-\-N\-\_\-nolock( pip\-\_\-task\-\_\-queue\-\_\-t $\ast$queue, pip\-\_\-task\-\_\-t $\ast$sched, int $\ast$np );
\end{DoxyParagraph}
\begin{DoxyParagraph}{Description}
The specified number of tasks are dequeued and scheduled by the specified {\ttfamily sched}. If {\ttfamily sched} is N\-U\-L\-L, then the task is enqueued into the scheduling queue of calling task. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
It is the user's responsibility to lock the queue beofre calling this function and unlock the queue after calling this function.
\end{DoxyParagraph}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em queue} & A task queue \\
\hline
\mbox{\tt in}  & {\em sched} & A task to specify a scheduling domain \\
\hline
\mbox{\tt in,out}  & {\em np} & A pointer to an interger which spcifies the number of tasks dequeued and actual number of tasks dequeued is returned. When {\ttfamily P\-I\-P\-\_\-\-T\-A\-S\-K\-\_\-\-A\-L\-L} is specified, then all tasks in the queue will be resumed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns no error 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em E\-P\-E\-R\-M} & Pi\-P library is not initialized yet \\
\hline
{\em E\-I\-N\-V\-A\-L} & {\ttfamily queue} is {\ttfamily N\-U\-L\-L} \\
\hline
{\em E\-I\-N\-V\-A\-L} & the specified number of tasks is invalid \\
\hline
{\em E\-N\-O\-E\-N\-T} & {\ttfamily queue} is empty. \\
\hline
\end{DoxyRetVals}
